@startuml Language Learning Credential Flow with ZK Proofs and Identity Verification

!theme aws-orange

title Enhanced Language Learning Credential Flow with ZK Proofs + Identity Verification\n**Web5 Claims - ZK Hack Berlin**

actor "ğŸ‘¨â€ğŸ“ Learner" as learner
participant "ğŸ›‚ ZKPassport\n(Identity Verifier)" as zkpass
participant "ğŸ® Konnektoren\n(Language App)" as konnektoren
participant "ğŸ“± Enhanced Credential Wallet\n(Holder)" as wallet
participant "ğŸ” Web5 Claims\n(Enhanced ZK Verifier)" as web5claims
participant "ğŸ¢ Employer/University\n(Relying Party)" as employer
participant "â›“ï¸ Blockchain\n(Aleo/Arbitrum)" as blockchain

== ğŸ›‚ Optional Identity Verification ==

learner -> zkpass: Choose Identity Verification\nfor Enhanced Trust
activate zkpass

zkpass -> learner: Request First Name:\n"Enter name as on passport"
learner -> zkpass: Enter "John"

zkpass -> zkpass: Generate ZKPassport QR Code
note right
**ZKPassport ZK Proof:**
â€¢ Age â‰¥ 18 (without revealing exact age)
â€¢ First name = "John" (surname hidden)
â€¢ Passport validity verified
â€¢ Zero-knowledge identity proof
end note

learner -> zkpass: Scan QR with ZKPassport App
zkpass -> zkpass: Generate Identity ZK Proof

zkpass -> learner: âœ… Identity Verified!\nâ€¢ Age: 18+ âœ…\nâ€¢ Name: John âœ…
zkpass -> wallet: Store Verified Identity
note right
**Verified Identity Claims:**
â€¢ first_name: "John"
â€¢ age_verified: true (â‰¥18)
â€¢ verification_timestamp: 2024-01-15T09:00:00Z
â€¢ verification_method: "zkpassport"
â€¢ privacy_level: "zero_knowledge"
end note
deactivate zkpass

== ğŸ“š Enhanced Learning & Certification ==

learner -> konnektoren: Complete German B2 Course\nâ€¢ 95% score\nâ€¢ All 4 skills (LSRW)\nâ€¢ 120 hours study time
activate konnektoren

konnektoren -> konnektoren: Generate Enhanced CertificateData\nâ€¢ performance_percentage: 95\nâ€¢ game_path_name: "German_B2_Complete"\nâ€¢ solved_challenges: 47/50\nâ€¢ profile_name: "John" (from identity)\nâ€¢ date: 2024-01-15

konnektoren -> konnektoren: Convert to Enhanced W3C VC
note right
**Enhanced W3C VC Claims:**
â€¢ language: "German"
â€¢ cefr_level: "B2"
â€¢ listening_score: 94, speaking_score: 96
â€¢ reading_score: 95, writing_score: 95
â€¢ total_hours: 120
â€¢ learner_name: "John" (verified)
â€¢ identity_verified: true
â€¢ trust_level: "high"
â€¢ issuer: "did:web:konnektoren.help"
end note

konnektoren -> wallet: Issue Enhanced W3C Verifiable Credential
deactivate konnektoren

wallet -> wallet: Store enhanced credential\n+ verified identity claims

== ğŸ’¼ Enhanced Job Application Scenario ==

employer -> learner: Premium Job Requirement:\n"Prove German B2+ proficiency\n+ verified identity for security clearance"

learner -> wallet: Request Enhanced ZK Proof
activate wallet

wallet -> web5claims: Generate Enhanced ZK Proof Request
note right
**Enhanced Proof Requirements:**
â€¢ Prove: cefr_level >= "B2"
â€¢ Prove: all_skills_passed = true
â€¢ Prove: cert_date > 2023-01-01
â€¢ Prove: identity_verified = true
â€¢ Prove: age >= 18
â€¢ Hide: exact scores, study hours
â€¢ Hide: surname, exact age
â€¢ Reveal: first_name if required
end note

web5claims -> blockchain: Deploy Enhanced ZK Circuit
activate blockchain

blockchain -> blockchain: Execute Enhanced Aleo Program
note right
**Enhanced Aleo ZK Circuit:**
```
transition verify_identity_language(
  private level: u8,           // 4 = B2
  private scores: [u8; 4],     // [94,96,95,95]
  private age: u8,             // 25 (hidden)
  private identity_verified: bool, // true
  public min_level: u8,        // 4
  public min_age: u8,          // 18
  public requires_identity: bool,  // true
  public min_date: u64         // 2023-01-01
) -> (bool, u8) {
  let skills_valid = level >= min_level
    && scores.iter().all(|&s| s >= 70);
  let identity_valid = identity_verified
    && age >= min_age;
  let trust_score = if identity_verified { 95u8 } else { 75u8 };

  return (skills_valid && identity_valid, trust_score);
}
```
end note

blockchain -> web5claims: Enhanced ZK Proof Generated âœ…
deactivate blockchain

web5claims -> wallet: Return Enhanced ZK Proof
deactivate wallet

wallet -> employer: Submit Enhanced ZK Proof
note left
**Enhanced Proof Contains:**
âœ… Has German B2+ certification
âœ… All skills passed minimum
âœ… Certified after Jan 2023
âœ… Identity verified (age 18+)
âœ… High trust score: 95/100
âŒ Exact scores (hidden)
âŒ Exact age (hidden)
âŒ Surname (hidden)
âŒ Personal details (hidden)
end note

== ğŸ” Enhanced Verification ==

employer -> web5claims: Verify Enhanced ZK Proof
activate web5claims

web5claims -> blockchain: Verify Enhanced Proof On-Chain
activate blockchain

blockchain -> blockchain: Run Enhanced Stylus Verifier
note right
**Enhanced Arbitrum Stylus Verifier:**
```rust
#[external]
impl EnhancedLanguageVerifier {
  pub fn verify_identity_competency_proof(
    &self,
    proof: Vec<u8>,
    min_level: u8,
    requires_identity: bool,
    min_trust_score: u8
  ) -> (bool, u8, bool)
}
```
end note

blockchain -> web5claims: Enhanced Verification Result âœ…
deactivate blockchain

web5claims -> employer: âœ… Enhanced Proof Valid!\n"Candidate: German B2+ âœ…\nIdentity Verified âœ…\nTrust Score: 95/100 ğŸ†"
deactivate web5claims

== ğŸ“ Flexible University Admission Scenario ==

participant "ğŸ« University" as university

university -> learner: Admission Requirement:\n"Prove 100+ study hours\n(identity verification optional)"

learner -> wallet: Generate Standard Proof\n(No identity required)
wallet -> web5claims: Standard ZK Proof Request
note right
**Standard Proof Claims:**
â€¢ Prove: study_hours >= 100
â€¢ Prove: cefr_level >= "B1"
â€¢ Hide: exact level (B2)
â€¢ Hide: identity details
â€¢ Trust score: 75/100
end note

web5claims -> blockchain: Generate Standard Hours Proof
blockchain -> web5claims: Proof: ">=100 hours studied"
web5claims -> wallet: Standard Hours Proof
wallet -> university: Submit Standard Proof

university -> web5claims: Verify Hours Proof
web5claims -> university: âœ… "Student studied 100+ hours\nTrust Score: 75/100"

== ğŸ”„ Trust Score Comparison ==

note over learner, employer
**ğŸ† Trust Score Benefits:**

**Standard Certificate (No Identity):**
â€¢ Language skill verified: âœ…
â€¢ Trust score: 75/100
â€¢ Use cases: Basic verification, education

**Identity-Verified Certificate:**
â€¢ Language skill verified: âœ…
â€¢ Identity verified (age 18+): âœ…
â€¢ Trust score: 95/100
â€¢ Use cases: Employment, security clearance, premium services

**Privacy Maintained in Both:**
â€¢ Exact scores remain hidden
â€¢ Personal details protected
â€¢ Zero-knowledge verification
end note

== ğŸ† Enhanced Prize Tracks Integration ==

note over web5claims, blockchain
**Enhanced ZK Hack Berlin Prize Alignment:**
ğŸ¥‡ **Aleo ($5K)**: Enhanced privacy-preserving education + identity credentials
ğŸ—ï¸ **Arbitrum Stylus ($1K)**: Rust ZK verifier with identity support
ğŸ” **ZKPassport ($1K)**: âœ… COMPLETE - Seamless identity verification integration
ğŸ‘¥ **Xion ($3K)**: Consumer-friendly ZK education app with trust scores
ğŸ† **Main Prize ($9K)**: Innovative ZK education + identity platform

**âœ… ZKPassport Integration Highlights:**
â€¢ Zero-knowledge age verification (18+)
â€¢ First name verification without surname exposure
â€¢ Enhanced trust scores for verified users
â€¢ Seamless redirect flow between apps
â€¢ Real-world employment verification benefits
â€¢ Flexible verification levels (standard vs enhanced)
end note

== ğŸŒŸ Real-World Impact ==

note over learner, university
**ğŸŒŸ Platform Benefits:**

**For Learners:**
â€¢ Higher trust scores â†’ better opportunities
â€¢ Privacy-preserved verification
â€¢ Flexible identity disclosure
â€¢ Enhanced employability

**For Employers:**
â€¢ Confident hiring decisions
â€¢ Verified candidate claims
â€¢ Customizable verification requirements
â€¢ Fraud prevention

**For Educational Institutions:**
â€¢ Streamlined admissions
â€¢ Verified learning outcomes
â€¢ Trust-based assessment
â€¢ Privacy-compliant verification

**Technology Innovation:**
â€¢ First ZK education + identity platform
â€¢ Privacy-preserving trust scores
â€¢ Blockchain-verified credentials
â€¢ Consumer-friendly ZK experience
end note

@enduml
